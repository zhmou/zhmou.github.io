<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 5.4.2">

  <link rel="apple-touch-icon" sizes="180x180" href="/img/general/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/img/general/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/img/general/favicon-16x16.png">
  <link rel="mask-icon" href="/img/general/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">

<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Noto+Serif+SC:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css" integrity="sha256-HtsXJanqjKTc8vVQjO4YMhiqFoXkfBsjBWcX91T1jr8=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"www.zhmou.xyz","root":"/","images":"/images","scheme":"Gemini","darkmode":false,"version":"8.15.1","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":{"enable":true,"style":"mac"},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":true,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":true,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"},"path":"/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}}</script><script src="/js/config.js"></script>

    <meta name="description" content="这篇文章仍处在更新当中。  JS基础 类型  基础数据类型 最新的 ECMAScript 标准定义了 8 种数据类型,分别是  string number bigint boolean null (typeof null返回结果为object) undefined symbol (ECMAScript 2016新增)     所有基本类型的值都是不可改变的。但需要注意的是，基本类型本身和一个赋值为">
<meta property="og:type" content="article">
<meta property="og:title" content="JS杂项知识记录">
<meta property="og:url" content="https://www.zhmou.xyz/posts/js-learning/index.html">
<meta property="og:site_name" content="Zh某的备忘录">
<meta property="og:description" content="这篇文章仍处在更新当中。  JS基础 类型  基础数据类型 最新的 ECMAScript 标准定义了 8 种数据类型,分别是  string number bigint boolean null (typeof null返回结果为object) undefined symbol (ECMAScript 2016新增)     所有基本类型的值都是不可改变的。但需要注意的是，基本类型本身和一个赋值为">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://www.zhmou.xyz/img/js-learning/scroll.png">
<meta property="article:published_time" content="2022-09-13T06:42:29.000Z">
<meta property="article:modified_time" content="2023-05-05T03:47:33.765Z">
<meta property="article:author" content="Zhmou">
<meta property="article:tag" content="编程">
<meta property="article:tag" content="Javascript">
<meta property="article:tag" content="语法">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://www.zhmou.xyz/img/js-learning/scroll.png">


<link rel="canonical" href="https://www.zhmou.xyz/posts/js-learning/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"zh-CN","comments":true,"permalink":"https://www.zhmou.xyz/posts/js-learning/","path":"/posts/js-learning/","title":"JS杂项知识记录"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>JS杂项知识记录 | Zh某的备忘录</title>
  








  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">Zh某的备忘录</p>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">记录生活点滴</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="搜索" role="button">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a></li><li class="menu-item menu-item-misc"><a href="/misc/" rel="section"><i class="fa fa-tasks fa-fw"></i>杂项</a></li><li class="menu-item menu-item-links"><a href="/links/" rel="section"><i class="fa fa-link fa-fw"></i>友链</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup"><div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off" maxlength="80"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close" role="button">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="search-result-container no-result">
  <div class="search-result-icon">
    <i class="fa fa-spinner fa-pulse fa-5x"></i>
  </div>
</div>

    </div>
  </div>

</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#JS%E5%9F%BA%E7%A1%80"><span class="nav-number">1.</span> <span class="nav-text">JS基础</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%B1%BB%E5%9E%8B"><span class="nav-number">1.1.</span> <span class="nav-text">类型</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%87%BD%E6%95%B0%E7%9A%84%E5%8F%82%E6%95%B0%E4%BC%A0%E9%80%92"><span class="nav-number">1.2.</span> <span class="nav-text">函数的参数传递</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8F%98%E9%87%8F%E7%9A%84%E4%BD%9C%E7%94%A8%E5%9F%9F"><span class="nav-number">1.3.</span> <span class="nav-text">变量的作用域</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B1%80%E9%83%A8%E5%92%8C%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F"><span class="nav-number">1.3.1.</span> <span class="nav-text">局部和全局变量</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BD%9C%E7%94%A8%E5%9F%9F%E9%93%BE"><span class="nav-number">1.3.2.</span> <span class="nav-text">作用域链</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#JS%E7%9A%84%E9%A2%84%E8%A7%A3%E6%9E%90"><span class="nav-number">1.4.</span> <span class="nav-text">JS的预解析</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#DOM%EF%BC%9A%E6%96%87%E6%A1%A3%E5%AF%B9%E8%B1%A1%E6%A8%A1%E5%9E%8B"><span class="nav-number">2.</span> <span class="nav-text">DOM：文档对象模型</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5"><span class="nav-number">2.1.</span> <span class="nav-text">基础概念</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%8E%B7%E5%8F%96%E5%85%83%E7%B4%A0"><span class="nav-number">2.2.</span> <span class="nav-text">获取元素</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BA%8B%E4%BB%B6%E5%9F%BA%E7%A1%80"><span class="nav-number">2.3.</span> <span class="nav-text">事件基础</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BA%8B%E4%BB%B6%E9%AB%98%E7%BA%A7"><span class="nav-number">2.4.</span> <span class="nav-text">事件高级</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#DOM%E4%BA%8B%E4%BB%B6%E6%B5%81%E7%90%86%E8%AE%BA"><span class="nav-number">2.4.1.</span> <span class="nav-text">DOM事件流理论</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BA%8B%E4%BB%B6%E5%AF%B9%E8%B1%A1"><span class="nav-number">2.4.2.</span> <span class="nav-text">事件对象</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BA%8B%E4%BB%B6%E5%A7%94%E6%89%98"><span class="nav-number">2.4.3.</span> <span class="nav-text">事件委托</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%9B%B4%E5%A4%9A%E7%9A%84%E9%BC%A0%E6%A0%87-%E9%94%AE%E7%9B%98%E4%BA%8B%E4%BB%B6"><span class="nav-number">2.4.4.</span> <span class="nav-text">更多的鼠标 &#x2F; 键盘事件</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%93%8D%E4%BD%9C%E5%85%83%E7%B4%A0"><span class="nav-number">2.5.</span> <span class="nav-text">操作元素</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%94%B9%E5%8F%98%E5%85%83%E7%B4%A0%E5%86%85%E5%AE%B9"><span class="nav-number">2.5.1.</span> <span class="nav-text">改变元素内容</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%94%B9%E5%8F%98%E5%85%83%E7%B4%A0%E5%B1%9E%E6%80%A7"><span class="nav-number">2.5.2.</span> <span class="nav-text">改变元素属性</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%94%B9%E5%8F%98%E8%A1%A8%E5%8D%95%E5%B1%9E%E6%80%A7"><span class="nav-number">2.5.3.</span> <span class="nav-text">改变表单属性</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%94%B9%E5%8F%98%E6%A0%B7%E5%BC%8F%E5%B1%9E%E6%80%A7"><span class="nav-number">2.5.4.</span> <span class="nav-text">改变样式属性</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%8A%82%E7%82%B9%E6%93%8D%E4%BD%9C"><span class="nav-number">2.5.5.</span> <span class="nav-text">节点操作</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#BOM%EF%BC%9A%E6%B5%8F%E8%A7%88%E5%99%A8%E5%AF%B9%E8%B1%A1%E6%A8%A1%E5%9E%8B"><span class="nav-number">3.</span> <span class="nav-text">BOM：浏览器对象模型</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5-v2"><span class="nav-number">3.1.</span> <span class="nav-text">基础概念</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#BOM%E6%9E%84%E6%88%90"><span class="nav-number">3.2.</span> <span class="nav-text">BOM构成</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#window%E5%AF%B9%E8%B1%A1%E5%B8%B8%E8%A7%81%E4%BA%8B%E4%BB%B6"><span class="nav-number">3.3.</span> <span class="nav-text">window对象常见事件</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AE%9A%E6%97%B6%E5%99%A8"><span class="nav-number">3.4.</span> <span class="nav-text">定时器</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BA%8B%E4%BB%B6%E5%BE%AA%E7%8E%AF"><span class="nav-number">3.5.</span> <span class="nav-text">事件循环</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#location%E5%AF%B9%E8%B1%A1"><span class="nav-number">3.6.</span> <span class="nav-text">location对象</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B8%B8%E7%94%A8%E5%B1%9E%E6%80%A7"><span class="nav-number">3.6.1.</span> <span class="nav-text">常用属性</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95"><span class="nav-number">3.6.2.</span> <span class="nav-text">常用方法</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#navigator%E5%AF%B9%E8%B1%A1"><span class="nav-number">3.7.</span> <span class="nav-text">navigator对象</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#history%E5%AF%B9%E8%B1%A1"><span class="nav-number">3.8.</span> <span class="nav-text">history对象</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B8%B8%E8%A7%81%E6%96%B9%E6%B3%95"><span class="nav-number">3.8.1.</span> <span class="nav-text">常见方法</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#PC%E7%AB%AF%E7%BD%91%E9%A1%B5%E7%89%B9%E6%95%88"><span class="nav-number">4.</span> <span class="nav-text">PC端网页特效</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Offset-%E5%85%83%E7%B4%A0%E5%81%8F%E7%A7%BB%E9%87%8F"><span class="nav-number">4.1.</span> <span class="nav-text">Offset 元素偏移量</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#offset%E4%B8%8Estyle%E5%8C%BA%E5%88%AB"><span class="nav-number">4.2.</span> <span class="nav-text">offset与style区别</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Client-%E5%85%83%E7%B4%A0%E5%8F%AF%E8%A7%86%E5%8C%BA"><span class="nav-number">4.3.</span> <span class="nav-text">Client 元素可视区</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%AB%8B%E5%8D%B3%E6%89%A7%E8%A1%8C%E5%87%BD%E6%95%B0"><span class="nav-number">4.4.</span> <span class="nav-text">立即执行函数</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Scroll-%E5%85%83%E7%B4%A0%E6%BB%9A%E5%8A%A8"><span class="nav-number">4.5.</span> <span class="nav-text">Scroll 元素滚动</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%A7%BB%E5%8A%A8%E7%AB%AF%E7%BD%91%E9%A1%B5%E7%89%B9%E6%95%88"><span class="nav-number">5.</span> <span class="nav-text">移动端网页特效</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8"><span class="nav-number">6.</span> <span class="nav-text">数据存储</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#sessionStorage"><span class="nav-number">6.1.</span> <span class="nav-text">sessionStorage</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#localStorage"><span class="nav-number">6.2.</span> <span class="nav-text">localStorage</span></a></li></ol></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Zhmou"
      src="/img/general/avatar.jpg">
  <p class="site-author-name" itemprop="name">Zhmou</p>
  <div class="site-description" itemprop="description">不断学习 关注技术 热爱生活</div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">13</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">2</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">17</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author animated">
      <span class="links-of-author-item">
        <a href="mailto:zezhongzhang1999@gmail.com" title="E-Mail → mailto:zezhongzhang1999@gmail.com" rel="noopener me" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>

        </div>
      </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://www.zhmou.xyz/posts/js-learning/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/img/general/avatar.jpg">
      <meta itemprop="name" content="Zhmou">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Zh某的备忘录">
      <meta itemprop="description" content="不断学习 关注技术 热爱生活">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="JS杂项知识记录 | Zh某的备忘录">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          JS杂项知识记录
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2022-09-13 14:42:29" itemprop="dateCreated datePublished" datetime="2022-09-13T14:42:29+08:00">2022-09-13</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%AD%A6%E4%B9%A0/" itemprop="url" rel="index"><span itemprop="name">学习</span></a>
        </span>
    </span>

  
    <span class="post-meta-item" title="阅读次数" id="busuanzi_container_page_pv">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">阅读次数：</span>
      <span id="busuanzi_value_page_pv"></span>
    </span>
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>23k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>56 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
        <div class="note info"><p>这篇文章仍处在更新当中。</p>
</div>
<h1 id="JS基础"><a class="header-anchor" href="#JS基础"></a>JS基础</h1>
<h2 id="类型"><a class="header-anchor" href="#类型"></a>类型</h2>
<ul>
<li>基础数据类型<br>
<strong>最新的 ECMAScript 标准定义了 8 种数据类型,分别是</strong>
<ul>
<li><code>string</code></li>
<li><code>number</code></li>
<li><code>bigint</code></li>
<li><code>boolean</code></li>
<li><code>null</code> (<code>typeof null</code>返回结果为object)</li>
<li><code>undefined</code></li>
<li><code>symbol</code> (ECMAScript 2016新增)</li>
</ul>
</li>
</ul>
<blockquote>
<p>所有基本类型的值都是不可改变的。但需要注意的是，基本类型本身和一个赋值为基本类型的变量的区别。变量会被赋予一个新值，而原值不能像数组、对象以及函数那样被改变。</p>
</blockquote>
<ul>
<li>引用类型
<ul>
<li><code>Object</code>（包含普通对象-Object，数组对象-Array，正则对象-RegExp，日期对象-Date，数学函数-Math，函数对象-Function）</li>
</ul>
</li>
</ul>
<p>基本数据类型会放在<b>栈</b>上，引用类型放在<b>堆</b>上</p>
<span id="more"></span>
<h2 id="函数的参数传递"><a class="header-anchor" href="#函数的参数传递"></a>函数的参数传递</h2>
<ul>
<li>基本数据类型的参数传递</li>
</ul>
<div>
<div class='center'>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">fn</span>(<span class="params">a</span>) &#123;</span><br><span class="line">    a++;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(a);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> x = <span class="number">10</span>;</span><br><span class="line"><span class="title function_">fn</span>(x)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(x);</span><br></pre></td></tr></table></figure>
可以看到传入函数<code>fn</code>的，是变量x的一个复制（值拷贝）。因此尽管函数体内部该变量发生变化，原变量x不发生改变。
</div>
<div class='clear'></div>
</div>
<ul>
<li>引用类型的参数传递</li>
</ul>
<div>
<div class='center'>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">fn</span>(<span class="params">a</span>) &#123;</span><br><span class="line">    a[<span class="number">0</span>] = <span class="string">&#x27;a&#x27;</span>;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(a);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> x = <span class="keyword">new</span> <span class="title class_">Array</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>);</span><br><span class="line"><span class="title function_">fn</span>(x)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(x);</span><br></pre></td></tr></table></figure>
这里传入函数的变量a是引用类型（数组对象），实际上传入参数指向了堆中相同的地址，此时函数体内部改变了堆上对象的属性，在函数外也发生改变。
</div>
<div class='clear'></div>
</div>
<h2 id="变量的作用域"><a class="header-anchor" href="#变量的作用域"></a>变量的作用域</h2>
<h3 id="局部和全局变量"><a class="header-anchor" href="#局部和全局变量"></a>局部和全局变量</h3>
<div>
<div class='center'>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> p = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">fn</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> p = <span class="number">1</span>;</span><br><span class="line">    p = <span class="number">2</span>;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;局部作用域的局部变量p:&#x27;</span> + p);</span><br><span class="line">    <span class="comment">//局部作用域的全局变量</span></span><br><span class="line">    num = <span class="number">100</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;全局作用域的全局变量p:&#x27;</span> + p);</span><br><span class="line"><span class="title function_">fn</span>();</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;未声明在函数内部赋值的变量属于全局变量:&#x27;</span> + num)</span><br></pre></td></tr></table></figure>
</div>
<div class='clear'></div>
</div>
<ul>
<li>局部变量只在函数内部生效</li>
<li>当局部变量与全局变量重名时，对变量的修改只对局部变量生效</li>
<li>未声明在函数内部赋值的变量属于全局变量（即函数外可调用）</li>
<li>函数的形参也是局部变量</li>
</ul>
<h3 id="作用域链"><a class="header-anchor" href="#作用域链"></a>作用域链</h3>
<div>
<div class='center'>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> num = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">fn</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> num = <span class="number">2</span>;</span><br><span class="line">    <span class="title function_">fn2</span>();</span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">fn2</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(num);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">fn</span>();</span><br></pre></td></tr></table></figure>
</div>
<div class='clear'></div>
</div>
&emsp;&emsp;·内部函数访问外部变量，根据链式查找方式决定。
<h2 id="JS的预解析"><a class="header-anchor" href="#JS的预解析"></a>JS的预解析</h2>
<div>
<div class='center'>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1.先向控制台打印变量，后声明该变量并赋值</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(num);</span><br><span class="line"><span class="keyword">var</span> num = <span class="number">10</span>;</span><br><span class="line"><span class="comment">// 控制台输出undefined</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 2.先调用函数，后通过函数声明的方式创建函数</span></span><br><span class="line"><span class="title function_">fn</span>();</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">fn</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;fn&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 控制台输出&#x27;fn&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 3.以函数表达式创建函数（匿名函数）</span></span><br><span class="line"><span class="title function_">fn2</span>();</span><br><span class="line"><span class="keyword">var</span> <span class="title function_">fn2</span>() = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;fn2&#x27;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 控制台报错 Uncaught TypeError: fn2 is not a function</span></span><br></pre></td></tr></table></figure>
</div>
<div class='clear'></div>
</div>
<p>  JS解释器在执行js脚本时，会先进行预解析，然后进行代码执行。<br>
    (1)预解析将所有<strong>var声明</strong>的变量以及function提升至当前作用域的最前面。<br>
    (2)按照预解析后的顺序依次执行。<br>
  预解析分为变量预解析和函数预解析。<br>
    (1)变量预解析将变量的声明放在最前方。<strong>不涉及变量赋值</strong><br>
    (2)函数预解析将函数声明所创建的函数放在最前方。<strong>不涉及函数表达式创建的函数</strong></p>
<p>  因此，上面的代码实际执行顺序如下：</p>
<div>
<div class='center'>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> num;</span><br><span class="line"><span class="keyword">var</span> <span class="title function_">fn2</span>();</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">fn</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;fn&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 此时num未赋值，因此输出undefined</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(num);</span><br><span class="line">num = <span class="number">10</span>;</span><br><span class="line"><span class="comment">// fn()已经声明，可以正常调用</span></span><br><span class="line"><span class="title function_">fn</span>();</span><br><span class="line"><span class="comment">// fn2 只是一个变量，还不是函数，因此fn2()语句会出错。</span></span><br><span class="line"><span class="title function_">fn2</span>();</span><br><span class="line">fn2 = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;fn2&#x27;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</div>
<div class='clear'></div>
</div>
<h1 id="DOM：文档对象模型"><a class="header-anchor" href="#DOM：文档对象模型"></a>DOM：文档对象模型</h1>
<h2 id="基础概念"><a class="header-anchor" href="#基础概念"></a>基础概念</h2>
<ul>
<li>文档
<ul>
<li>一个页面就是一个文档，DOM中用document表示</li>
</ul>
</li>
<li>元素
<ul>
<li>页面中所有标签都是元素，DOM中用element表示</li>
</ul>
</li>
<li>节点
<ul>
<li>网页中的所有内容都是节点（标签 属性 文本 注释等），DOM中用node表示</li>
</ul>
</li>
</ul>
<p><strong>DOM把以上内容都看做是对象</strong></p>
<h2 id="获取元素"><a class="header-anchor" href="#获取元素"></a>获取元素</h2>
<ul>
<li><code>document.<em><strong>getElementById</strong></em></code>
<ul>
<li>参数:id字符串</li>
<li>返回文档中拥有特定ID的元素，不存在则返回Null</li>
<li>返回值为<em>一个</em> <strong>Element</strong> 对象</li>
</ul>
</li>
<li><code>document.<em><strong>getElementsByTagName</strong></em></code>
<ul>
<li>参数:标签类名字符串</li>
<li>返回某类标签 <strong>集合</strong> ，以伪数组形式存储，不存在则返回空的伪数组</li>
<li>指定父元素：<em><strong>element</strong></em>.getElementsByTagName('Tag name')</li>
</ul>
</li>
<li><code>document.<em><strong>getElementsByClassName</strong></em></code>
<ul>
<li>根据类名返回元素对象 <strong>集合</strong></li>
</ul>
</li>
<li><code>document.<em><strong>querySelector</strong></em></code>
<ul>
<li>根据指定选择器返回<strong>第一个</strong>元素对象</li>
<li>选择器需要加符号 . #</li>
</ul>
</li>
<li><code>document.<em><strong>querySelectorAll</strong></em></code>
<ul>
<li>根据指定选择器返回所有元素对象集合</li>
<li>选择器需要加符号 . #</li>
</ul>
</li>
<li><code>document.<em><strong>body</strong></em></code>
<ul>
<li>获取body元素</li>
</ul>
</li>
<li><code>document.<em><strong>documentElement</strong></em></code>
<ul>
<li>获取html元素</li>
</ul>
</li>
</ul>
<h2 id="事件基础"><a class="header-anchor" href="#事件基础"></a>事件基础</h2>
<p>  事件：可以被JavaScript侦测到的行为。</p>
<ul>
<li>事件三要素
<ul>
<li>事件源 事件被触发的对象</li>
<li>事件类型 如何触发（什么事件）</li>
<li>事件处理程序</li>
</ul>
</li>
</ul>
<p><button id='event_btn'>测试按钮</button></p>
<script>
    var btn = document.getElementById('event_btn');
    btn.onclick = function(){
        alert("在此示例中：\n    按钮是事件源。\n    onclick是事件类型。\n    弹出当前窗口用到的alert函数就是事件处理程序。");
    }
</script>
<p>  <strong>常见鼠标事件</strong></p>
<div class='center'>
<table>
<thead>
<tr>
<th>鼠标事件</th>
<th>触发条件</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>onclick</code></td>
<td>点击左键</td>
</tr>
<tr>
<td><code>onmouseover</code></td>
<td>鼠标经过</td>
</tr>
<tr>
<td><code>onmouseout</code></td>
<td>鼠标离开</td>
</tr>
<tr>
<td><code>onfocus</code></td>
<td>获得鼠标焦点</td>
</tr>
<tr>
<td><code>onblur</code></td>
<td>失去鼠标焦点</td>
</tr>
<tr>
<td><code>onmousemove</code></td>
<td>鼠标移动</td>
</tr>
<tr>
<td><code>onmouseup</code></td>
<td>鼠标弹起</td>
</tr>
<tr>
<td><code>onmousedown</code></td>
<td>鼠标按下</td>
</tr>
</tbody>
</table>
</div>
<div class='clear'></div>
<h2 id="事件高级"><a class="header-anchor" href="#事件高级"></a>事件高级</h2>
<ul>
<li>绑定 / 注册事件
<ul>
<li>以上给元素添加事件的方式（利用on开头的事件）是<strong>传统方式</strong>注册事件
<ul>
<li>特点：唯一性，同一个元素的同一事件只能设置一个处理函数，后注册的处理函数会覆盖前面注册的</li>
</ul>
</li>
<li>W3C标准推荐使用方法监听注册方式
<ul>
<li>addEventListener()是一个方法</li>
<li>IE9以前不支持此方法，可使用attachEvent()方法代替</li>
<li>特点：同一个元素同一事件可以注册多个监听器</li>
</ul>
</li>
<li><code>eventTarget.<em><strong>addEventListener(type, listener, [useCapture])</strong></em></code>
<ul>
<li>type: 事件类型字符串</li>
<li>listener: 事件处理函数</li>
<li>useCapture: 可选参数，默认为false</li>
</ul>
</li>
</ul>
</li>
<li>解绑事件
<ul>
<li>传统方式绑定的事件解绑: on事件 = null;</li>
<li>方法监听绑定的事件解绑: removeEventListener()</li>
<li><code>eventTarget.<em><strong>removeEventListener(type, listener, [useCapture])</strong></em></code>
<ul>
<li>type: 事件类型字符串</li>
<li>listener: 事件处理函数</li>
<li>useCapture: 可选参数，默认为false</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="DOM事件流理论"><a class="header-anchor" href="#DOM事件流理论"></a>DOM事件流理论</h3>
<p>  DOM中事件流描述的是从页面中接收事件的顺序。事件发生时会在元素节点之间按照特定的顺序传播，这个传播过程即DOM事件流。</p>
<ul>
<li>DOM事件流分为3个阶段
<ul>
<li>捕获阶段：从上至下</li>
<li>当前目标阶段</li>
<li>冒泡阶段：从下至上
<ul>
<li>实际开发中很少使用事件捕获，更关注事件冒泡</li>
<li>onblur onfocus onmouseenter onmouseleave 事件等没有冒泡<br>
<strong>例子：</strong></li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="tabs" id="dom_event"><ul class="nav-tabs"><li class="tab active"><a href="#dom_event-1">HTML</a></li><li class="tab"><a href="#dom_event-2">CSS</a></li><li class="tab"><a href="#dom_event-3">Javascript</a></li></ul><div class="tab-content"><div class="tab-pane active" id="dom_event-1"><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&#x27;event&#x27;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&#x27;father1&#x27;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span> = <span class="string">&#x27;son1&#x27;</span>&gt;</span>冒泡<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&#x27;father2&#x27;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span> = <span class="string">&#x27;son2&#x27;</span>&gt;</span>捕获<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure></div><div class="tab-pane" id="dom_event-2"><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#event</span> &#123;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span> auto;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">50%</span>;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> dotted <span class="number">#666</span>;</span><br><span class="line">    <span class="attribute">text-align</span>: center;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#event</span>&gt;<span class="selector-tag">span</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: inline-block;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">10%</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#father1</span>, <span class="selector-id">#father2</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: inline-block;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: skyblue;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#son1</span>, <span class="selector-id">#son2</span> &#123;</span><br><span class="line">    <span class="attribute">cursor</span>: pointer;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">25%</span> auto;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">50%</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">50%</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: pink;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><div class="tab-pane" id="dom_event-3"><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> f1 = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;#father1&#x27;</span>);</span><br><span class="line"><span class="keyword">var</span> s1 = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;#son1&#x27;</span>);</span><br><span class="line"><span class="keyword">var</span> f2 = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;#father2&#x27;</span>);</span><br><span class="line"><span class="keyword">var</span> s2 = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;#son2&#x27;</span>);</span><br><span class="line">f1.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, myName);</span><br><span class="line">s1.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, myName);</span><br><span class="line">f2.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, myName, <span class="literal">true</span>);</span><br><span class="line">s2.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, myName, <span class="literal">true</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">myName</span>(<span class="params">e</span>)&#123;</span><br><span class="line">    <span class="title function_">alert</span>(<span class="string">&#x27;我是&#x27;</span> + <span class="variable language_">this</span>.<span class="property">id</span>);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(e.<span class="property">target</span>,<span class="variable language_">this</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></div></div>
<style>
    #event {
        margin: 0 auto;
        width: 50%;
        border: 1px dotted #666;
        text-align: center;
    }
    #event>span {
        display: inline-block;
        width: 10%;
    }

    #father1, #father2 {
        display: inline-block;
        width: 100px;
        height: 100px;
        background-color: skyblue;
    }

    #son1, #son2 {
        cursor: pointer;
        margin: 25% auto;
        width: 50%;
        height: 50%;
        background-color: pink;
    }
</style>
<p><strong>效果：</strong></p>
<div id='event'>
    <div id='father1'>
        <div id = 'son1'>冒泡</div>
    </div><span></span>
    <div id='father2'>
        <div id = 'son2'>捕获</div>
    </div>
</div>
<script>
    var f1 = document.querySelector('#father1');
    var s1 = document.querySelector('#son1');
    var f2 = document.querySelector('#father2');
    var s2 = document.querySelector('#son2');
    f1.addEventListener('click', myName);
    s1.addEventListener('click', myName);
    f2.addEventListener('click', myName, true);
    s2.addEventListener('click', myName, true);

    function myName(e){
        alert('我是' + this.id);
        console.log(e.target,this)
    }
</script>
<h3 id="事件对象"><a class="header-anchor" href="#事件对象"></a>事件对象</h3>
<ul>
<li>监听函数的形参</li>
<li>事件对象只有存在事件才会存在，系统自动创建</li>
<li>事件对象中包含了与事件相关的数据 属性 方法等
<ul>
<li><code>e.<em><strong>target</strong></em></code>: 返回触发事件的对象
<ul>
<li>this: 返回绑定的对象，注意区别</li>
</ul>
</li>
<li><code>e.<em><strong>type</strong></em></code>: 事件类型</li>
<li><code>e.<em><strong>preventDefault()</strong></em></code> 阻止默认事件，比如禁止链接跳转
<ul>
<li>return false; 也可以阻止默认事件，但仅限于传统注册方式</li>
</ul>
</li>
<li><code>e.<em><strong>stopPropagation()</strong></em></code> 阻止事件传播</li>
</ul>
</li>
<li>鼠标事件对象 MouseEvent
<ul>
<li><code>e.<em><strong>clientX / elientY</strong></em></code> 相对浏览器窗口可视区的X Y坐标</li>
<li><code>e.<em><strong>pageX / pageY</strong></em></code> 相对文档页面的X Y坐标</li>
<li><code>e.<em><strong>screenX / screenY</strong></em></code> 相对电脑屏幕的X Y坐标</li>
</ul>
</li>
</ul>
<h3 id="事件委托"><a class="header-anchor" href="#事件委托"></a>事件委托</h3>
<ul>
<li>原理：不为每个子节点单独设置事件监听器，而是设置在父节点上，然后利用冒泡原理影响设置每个子节点(e.target)</li>
<li>作用：只操作了一次DOM，提高性能</li>
</ul>
<h3 id="更多的鼠标-键盘事件"><a class="header-anchor" href="#更多的鼠标-键盘事件"></a>更多的鼠标 / 键盘事件</h3>
<ul>
<li>contextmenu
<ul>
<li>控制何时应该显示上下文菜单，比如屏蔽右键菜单可以通过阻止默认事件进行</li>
</ul>
</li>
<li>selectstart
<ul>
<li>开始选中，阻止默认事件可以禁止鼠标选中文本</li>
</ul>
</li>
<li>keyup
<ul>
<li>按键松开时触发</li>
</ul>
</li>
<li>keydown
<ul>
<li>按键按下时触发</li>
</ul>
</li>
<li>keypress
<ul>
<li>按下时触发，但不识别功能键</li>
</ul>
</li>
</ul>
<p> <strong>键盘对象的属性：</strong></p>
<ul>
<li><code>e.<em><strong>key</strong></em></code>
<ul>
<li>按下键的字符串</li>
</ul>
</li>
<li><code>e.<em><strong>keyCode</strong></em></code>
<ul>
<li>按下键的ASCII码值</li>
<li>keyup / keydown不区分大小写，keypress区分</li>
</ul>
</li>
</ul>
<h2 id="操作元素"><a class="header-anchor" href="#操作元素"></a>操作元素</h2>
<h3 id="改变元素内容"><a class="header-anchor" href="#改变元素内容"></a>改变元素内容</h3>
<ul>
<li><code>element.<em><strong>innerText</strong></em></code></li>
<li><code>element.<em><strong>innerHTML</strong></em></code></li>
<li>两者都能对元素内的文本内容进行读写操作，但是前者会忽略掉元素内的所有HTML标签以及源代码中的换行与空格。</li>
</ul>
<p><strong>示例：分时问候</strong></p>
<div class="tabs" id="changeelement"><ul class="nav-tabs"><li class="tab active"><a href="#changeelement-1">HTML</a></li><li class="tab"><a href="#changeelement-2">CSS</a></li><li class="tab"><a href="#changeelement-3">Javascript</a></li></ul><div class="tab-content"><div class="tab-pane active" id="changeelement-1"><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&#x27;changeContent&#x27;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure></div><div class="tab-pane" id="changeelement-2"><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#changeContent</span> &#123;</span><br><span class="line">    <span class="attribute">text-align</span>: center;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><div class="tab-pane" id="changeelement-3"><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> div = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;#changeContent&#x27;</span>);</span><br><span class="line">div.<span class="property">innerHTML</span> = <span class="title function_">getTimeNow</span>();</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">getTimeNow</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> date = <span class="keyword">new</span> <span class="title class_">Date</span>();</span><br><span class="line">    <span class="keyword">var</span> hours = date.<span class="title function_">getHours</span>();</span><br><span class="line">    <span class="keyword">var</span> minutes = date.<span class="title function_">getMinutes</span>();</span><br><span class="line">    <span class="keyword">if</span>(minutes &lt; <span class="number">10</span>)</span><br><span class="line">        minutes = <span class="string">&#x27;0&#x27;</span> + minutes;</span><br><span class="line">    <span class="keyword">var</span> welcomeString;</span><br><span class="line">    <span class="keyword">if</span> (hours &gt;= <span class="number">5</span> &amp;&amp; hours &lt; <span class="number">7</span>)&#123;</span><br><span class="line">        welcomeString = <span class="string">&#x27;清晨好&#x27;</span>;</span><br><span class="line">    &#125; </span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (hours &gt;= <span class="number">7</span> &amp;&amp; hours &lt; <span class="number">11</span>)&#123;</span><br><span class="line">        welcomeString = <span class="string">&#x27;早上好&#x27;</span>;</span><br><span class="line">    &#125; </span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (hours &gt;= <span class="number">11</span> &amp;&amp; hours &lt; <span class="number">13</span>)&#123;</span><br><span class="line">        welcomeString = <span class="string">&#x27;中午好&#x27;</span>;</span><br><span class="line">    &#125; </span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (hours &gt;= <span class="number">13</span> &amp;&amp; hours &lt; <span class="number">17</span>)&#123;</span><br><span class="line">        welcomeString = <span class="string">&#x27;下午好&#x27;</span>;</span><br><span class="line">    &#125; </span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (hours &gt;= <span class="number">17</span> &amp;&amp; hours &lt; <span class="number">19</span>)&#123;</span><br><span class="line">        welcomeString = <span class="string">&#x27;傍晚好&#x27;</span>;</span><br><span class="line">    &#125; </span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (hours &gt;= <span class="number">19</span> &amp;&amp; hours &lt; <span class="number">23</span>)&#123;</span><br><span class="line">        welcomeString = <span class="string">&#x27;晚上好&#x27;</span>;</span><br><span class="line">    &#125; </span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">        welcomeString = <span class="string">&#x27;夜深了&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> welcomeString + <span class="string">&#x27;，现在是&#x27;</span> + hours + <span class="string">&#x27;点&#x27;</span> + minutes + <span class="string">&#x27;分。&#x27;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></div></div>
<style>
    #changeContent {
        text-align: center;
    }
</style>
<p><strong>效果：</strong></p>
<div id='changeContent'></div>
<script>
    var div = document.querySelector('#changeContent');
    div.innerHTML = getTimeNow();
    function getTimeNow() {
        var date = new Date();
        var hours = date.getHours();
        var minutes = date.getMinutes();
        if(minutes < 10)
            minutes = '0' + minutes;
        var welcomeString;
        if (hours >= 5 && hours < 7){
            welcomeString = '清晨好';
        } 
        else if (hours >= 7 && hours < 11){
            welcomeString = '早上好';
        } 
        else if (hours >= 11 && hours < 13){
            welcomeString = '中午好';
        } 
        else if (hours >= 13 && hours < 17){
            welcomeString = '下午好';
        } 
        else if (hours >= 17 && hours < 19){
            welcomeString = '傍晚好';
        } 
        else if (hours >= 19 && hours < 23){
            welcomeString = '晚上好';
        } 
        else {
            welcomeString = '夜深了';
        }
        return welcomeString + '，现在是' + hours + '点' + minutes + '分。'
    }
</script>
<h3 id="改变元素属性"><a class="header-anchor" href="#改变元素属性"></a>改变元素属性</h3>
<ul>
<li><code>element.<em><strong>属性名</strong></em></code>（内置属性 id、src等，可读写）</li>
<li><code>element.<em><strong>getAttribute('属性名')</strong></em></code>（自定义属性）</li>
<li><code>element.<em><strong>setAttribute('属性名', 值)</strong></em></code> （主要是自定义属性）</li>
<li><code>element.<em><strong>removeAttribute('属性名')</strong></em></code>（移除某个属性）</li>
</ul>
<h3 id="改变表单属性"><a class="header-anchor" href="#改变表单属性"></a>改变表单属性</h3>
<p>  利用DOM可以操作如下表单元素的属性:</p>
<blockquote><p>type、value、checked、selected、disabled</p>
</blockquote>
<p><strong>示例：显示密码</strong></p>
<div class="tabs" id="changeinput"><ul class="nav-tabs"><li class="tab active"><a href="#changeinput-1">HTML</a></li><li class="tab"><a href="#changeinput-2">Javascript</a></li></ul><div class="tab-content"><div class="tab-pane active" id="changeinput-1"><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&#x27;password&#x27;</span> <span class="attr">id</span>=<span class="string">&#x27;pwd_demo_input&#x27;</span>/&gt;</span><span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&#x27;pwd_demo_btn&#x27;</span>&gt;</span>显示密码<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure></div><div class="tab-pane" id="changeinput-2"><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> input = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;pwd_demo_input&#x27;</span>);</span><br><span class="line"><span class="keyword">var</span> btn = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;pwd_demo_btn&#x27;</span>);</span><br><span class="line">btn.<span class="property">onclick</span> = <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="keyword">var</span> type = input.<span class="property">type</span>;</span><br><span class="line">    <span class="keyword">if</span> (type == <span class="string">&#x27;text&#x27;</span>) &#123;</span><br><span class="line">        input.<span class="property">type</span> = <span class="string">&#x27;password&#x27;</span>;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">innerHTML</span> = <span class="string">&#x27;显示密码&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (type == <span class="string">&#x27;password&#x27;</span>) &#123;</span><br><span class="line">        input.<span class="property">type</span> = <span class="string">&#x27;text&#x27;</span>;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">innerHTML</span> = <span class="string">&#x27;隐藏密码&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></div></div>
<p><strong>效果：</strong><br>
<input type='password' id='pwd_demo_input'/><button id='pwd_demo_btn'>显示密码</button></p>
<script>
    var input = document.getElementById('pwd_demo_input');
    var btn = document.getElementById('pwd_demo_btn');
    btn.onclick = function(){
        var type = input.type;
        if (type == 'text') {
            input.type = 'password';
            this.innerHTML = '显示密码';
        }
        else if (type == 'password') {
            input.type = 'text';
            this.innerHTML = '隐藏密码';
        }
    }
</script>
<h3 id="改变样式属性"><a class="header-anchor" href="#改变样式属性"></a>改变样式属性</h3>
<p>  我们可以通过JS修改元素的大小、颜色、位置等样式</p>
<ul>
<li><code>element.<em><strong>style</strong></em></code>
<ul>
<li>行内样式操作</li>
</ul>
</li>
<li><code>element.<em><strong>className</strong></em></code>
<ul>
<li>类名样式操作，适用于样式较多或者功能复杂的情况</li>
</ul>
</li>
</ul>
<div class="note warning"><p>JS中的样式采取驼峰命名法<br>
JS修改style样式操作，产生的是行内样式</p>
</div>
<p><strong>示例：修改文本框内容</strong></p>
<div class="tabs" id="changeinputdemo"><ul class="nav-tabs"><li class="tab active"><a href="#changeinputdemo-1">HTML</a></li><li class="tab"><a href="#changeinputdemo-2">Javascript</a></li></ul><div class="tab-content"><div class="tab-pane active" id="changeinputdemo-1"><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&#x27;text&#x27;</span> <span class="attr">value</span>=<span class="string">&#x27;默认&#x27;</span> <span class="attr">id</span>=<span class="string">&#x27;inputdemo&#x27;</span>/&gt;</span></span><br></pre></td></tr></table></figure></div><div class="tab-pane" id="changeinputdemo-2"><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> demo = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;inputdemo&#x27;</span>);</span><br><span class="line"><span class="keyword">var</span> defaultString = demo.<span class="property">value</span>;</span><br><span class="line">demo.<span class="property">style</span>.<span class="property">color</span> = <span class="string">&#x27;#666&#x27;</span>;</span><br><span class="line">demo.<span class="property">onfocus</span> = <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="keyword">if</span> (demo.<span class="property">value</span> === defaultString) &#123;</span><br><span class="line">        demo.<span class="property">value</span> = <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">        demo.<span class="property">style</span>.<span class="property">color</span> = <span class="string">&#x27;red&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">demo.<span class="property">onblur</span> = <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="keyword">if</span> (demo.<span class="property">value</span> === <span class="string">&#x27;&#x27;</span>) &#123;</span><br><span class="line">        demo.<span class="property">value</span> = defaultString;</span><br><span class="line">        demo.<span class="property">style</span>.<span class="property">color</span> = <span class="string">&#x27;#666&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></div></div>
<p><strong>效果：</strong><br>
<input type='text' value='默认' id='inputdemo'/></p>
<script>
    var demo = document.getElementById('inputdemo');
    var defaultString = demo.value;
    demo.style.color = '#666';
    demo.onfocus = function(){
        if (demo.value === defaultString) {
            demo.value = '';
            demo.style.color = 'red';
        }
    }
    demo.onblur = function(){
        if (demo.value === '') {
            demo.value = defaultString;
            demo.style.color = '#666';
        }
    }
</script>
<h3 id="节点操作"><a class="header-anchor" href="#节点操作"></a>节点操作</h3>
<p>  DOM树中，一切都是节点。</p>
<div>
<ul>
<li>一般地，节点至少拥有nodeType nodeName nodeValue这三个基本属性
<ul>
<li>元素节点 nodeType为1</li>
<li>属性节点 nodeType为2</li>
<li>文本节点 nodeType为3</li>
</ul>
</li>
</ul>
</div>
<div>
<ul>
<li><code>node.<em><strong>parentNode</strong></em></code>  获取离元素最近的父节点</li>
<li><code>node.<em><strong>childNodes</strong></em></code>  子节点，包含元素节点 文本节点（因此一般不提倡使用）</li>
<li><code>node.<em><strong>children</strong></em></code>  子元素节点</li>
<li><code>node.<em><strong>firstChild / lastChild</strong></em></code>  第一 / 最后一个 子节点</li>
<li><code>node.<em><strong>firstElementChild / lastElementChild</strong></em></code> （兼容性问题）第一 / 最后一个 子元素节点
<ul>
<li>实际写法：<code>node.<em><strong>children[0/node.children.length-1]</strong></em></code></li>
</ul>
</li>
<li><code>node.<em><strong>nextSibling / previousSibling</strong></em></code>  下一个兄弟节点</li>
<li><code>node.<em><strong>nextElementSibling / previousElementSibling</strong></em></code>  下一个兄弟元素节点</li>
<li><code>document.<em><strong>creatElement('tagName')</strong></em></code>  创建元素节点</li>
<li><code>node.<em><strong>appendChild(child)</strong></em></code>  添加节点至node节点结尾</li>
<li><code>node.<em><strong>insertBefore(child, 位置)</strong></em></code>  添加节点至node节点指定位置之前</li>
<li><code>node.<em><strong>removeChild(child)</strong></em></code>  删除节点</li>
<li><code>node.<em><strong>cloneNode()</strong></em></code>  复制节点，默认空参数 或者 false 是浅拷贝，不复制里面的内容，为true是深拷贝</li>
</ul>
</div>
<ul>
<li>动态创建元素的三种方法比对
<ul>
<li><code>document.<em><strong>write()</strong></em></code>  文档流执行完毕后，此语句会导致页面的重绘</li>
<li><code>element.<em><strong>innerHTML</strong></em></code>  创建大量相同元素时，不要采用字符串拼接的形式，而是采用数组join的形式（性能）。</li>
<li><code>document.<em><strong>createElement</strong></em></code>  创建大量相同元素时，此种方式比上面字符串拼接的方式更快，但是稍慢于数组join，但是语义更清晰</li>
</ul>
</li>
</ul>
<h1 id="BOM：浏览器对象模型"><a class="header-anchor" href="#BOM：浏览器对象模型"></a>BOM：浏览器对象模型</h1>
<h2 id="基础概念-v2"><a class="header-anchor" href="#基础概念-v2"></a>基础概念</h2>
<p>  <strong>BOM</strong>即浏览器对象模型，它提供了独立于内容而与浏览器窗口进行交互的对象，其核心对象是window。</p>
<h2 id="BOM构成"><a class="header-anchor" href="#BOM构成"></a>BOM构成</h2>
<p>BOM比DOM更大，它包含了DOM</p>
<ul>
<li>window 浏览器的顶级对象，它是JS访问浏览器窗口的一个接口。定义在全局作用域中的变量、函数都会变成window对象的属性和方法（即var num =&gt; window.num / function fn() =&gt; window.fn()）它包含了以下内容：
<ul>
<li>document</li>
<li>location</li>
<li>navigation</li>
<li>screen</li>
<li>history</li>
</ul>
</li>
</ul>
<h2 id="window对象常见事件"><a class="header-anchor" href="#window对象常见事件"></a>window对象常见事件</h2>
<ul>
<li>
<p>窗口加载事件<br>
<code>window.onload = function( )&#123; &#125;</code> (传统注册方式)<br>
<code>window.addEventListener('load', function( )&#123; &#125;)</code> (监听注册方式)<br>
窗口页面加载事件，当文档内容完全加载完成会触发该事件，有了此事件就可以把JS代码写在页面元素上方。<br>
<code>document.addEventListener('DOMContentLoaded', function( )&#123; &#125;)</code><br>
仅DOM加载完成，不包括样式表 / 图片 / Flash等</p>
</li>
<li>
<p>调整大小事件<br>
<code>window.addEventListener('resize', function( )&#123; &#125;)</code><br>
窗口大小发生变化时会触发此事件<br>
利用这个事件可以是实现响应式布局</p>
</li>
</ul>
<h2 id="定时器"><a class="header-anchor" href="#定时器"></a>定时器</h2>
<ul>
<li><code>setTimeout(回调函数, 延时时间(ms))</code><br>
设置一个定时器，该定时器在到期后执行调用函数。定时器可能有很多，我们经常给定时器赋值一个标识符。</li>
<li><code>clearTimeout(标识符)</code><br>
停止定时器</li>
<li><code>setInterval(回调函数, 间隔时间(ms))</code><br>
反复调用此函数</li>
<li><code>clearTimeout(标识符)</code></li>
</ul>
<p><strong>示例：时钟</strong></p>
<div class="tabs" id="clock"><ul class="nav-tabs"><li class="tab active"><a href="#clock-1">HTML</a></li><li class="tab"><a href="#clock-2">CSS</a></li><li class="tab"><a href="#clock-3">Javascript</a></li></ul><div class="tab-content"><div class="tab-pane active" id="clock-1"><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&#x27;timer&#x27;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">&#x27;hours&#x27;</span>&gt;</span>1<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">&#x27;minutes&#x27;</span>&gt;</span>2<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">&#x27;seconds&#x27;</span>&gt;</span>3<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure></div><div class="tab-pane" id="clock-2"><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">.timer &#123;</span><br><span class="line">    margin: 0 auto;</span><br><span class="line">    width: 50%;</span><br><span class="line">    text-align: center;</span><br><span class="line">&#125;</span><br><span class="line">.timer&gt;span &#123;</span><br><span class="line">    display: inline-block;</span><br><span class="line">    height: 40px;</span><br><span class="line">    width: 40px;</span><br><span class="line">    text-align: center;</span><br><span class="line">    background-color: black;</span><br><span class="line">    color: white;</span><br><span class="line">    font-weight: 900;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><div class="tab-pane" id="clock-3"><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> hh = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;#hours&#x27;</span>);</span><br><span class="line"><span class="keyword">let</span> mm = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;#minutes&#x27;</span>);</span><br><span class="line"><span class="keyword">let</span> ss = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;#seconds&#x27;</span>);</span><br><span class="line"><span class="keyword">let</span> date = <span class="keyword">new</span> <span class="title class_">Date</span>();</span><br><span class="line">hh.<span class="property">innerText</span> = date.<span class="title function_">getHours</span>();</span><br><span class="line">mm.<span class="property">innerText</span> = date.<span class="title function_">getMinutes</span>();</span><br><span class="line">ss.<span class="property">innerText</span> = date.<span class="title function_">getSeconds</span>();</span><br><span class="line"><span class="keyword">if</span>(hh.<span class="property">innerText</span> &lt; <span class="number">10</span>) &#123;</span><br><span class="line">    hh.<span class="property">innerText</span> = <span class="string">&#x27;0&#x27;</span> + hh.<span class="property">innerText</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(mm.<span class="property">innerText</span> &lt; <span class="number">10</span>) &#123;</span><br><span class="line">    mm.<span class="property">innerText</span> = <span class="string">&#x27;0&#x27;</span> + mm.<span class="property">innerText</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(ss.<span class="property">innerText</span> &lt; <span class="number">10</span>) &#123;</span><br><span class="line">    ss.<span class="property">innerText</span> = <span class="string">&#x27;0&#x27;</span> + ss.<span class="property">innerText</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> clock = <span class="built_in">setInterval</span>(timer, <span class="number">1000</span>);</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">timer</span>(<span class="params"></span>) &#123;</span><br><span class="line">    date = <span class="keyword">new</span> <span class="title class_">Date</span>();</span><br><span class="line">    hh.<span class="property">innerText</span> = date.<span class="title function_">getHours</span>();</span><br><span class="line">    mm.<span class="property">innerText</span> = date.<span class="title function_">getMinutes</span>();</span><br><span class="line">    ss.<span class="property">innerText</span> = date.<span class="title function_">getSeconds</span>();</span><br><span class="line">    <span class="keyword">if</span>(hh.<span class="property">innerText</span> &lt; <span class="number">10</span>) &#123;</span><br><span class="line">    hh.<span class="property">innerText</span> = <span class="string">&#x27;0&#x27;</span> + hh.<span class="property">innerText</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(mm.<span class="property">innerText</span> &lt; <span class="number">10</span>) &#123;</span><br><span class="line">        mm.<span class="property">innerText</span> = <span class="string">&#x27;0&#x27;</span> + mm.<span class="property">innerText</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(ss.<span class="property">innerText</span> &lt; <span class="number">10</span>) &#123;</span><br><span class="line">        ss.<span class="property">innerText</span> = <span class="string">&#x27;0&#x27;</span> + ss.<span class="property">innerText</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></div></div>
<p><strong>效果：</strong></p>
<div class='timer'>
    <span id='hours'>1</span>
    <span id='minutes'>2</span>
    <span id='seconds'>3</span>
</div>
<style>
    .timer {
        margin: 0 auto;
        width: 50%;
        text-align: center;
    }
    .timer>span {
        display: inline-block;
        height: 40px;
        width: 40px;
        text-align: center;
        background-color: black;
        color: white;
        font-weight: 900;
    }
</style>
<script>
    let hh = document.querySelector('#hours');
    let mm = document.querySelector('#minutes');
    let ss = document.querySelector('#seconds');
    let date = new Date();
    hh.innerText = date.getHours();
    mm.innerText = date.getMinutes();
    ss.innerText = date.getSeconds();
    if(hh.innerText < 10) {
        hh.innerText = '0' + hh.innerText;
    }
    if(mm.innerText < 10) {
        mm.innerText = '0' + mm.innerText;
    }
    if(ss.innerText < 10) {
        ss.innerText = '0' + ss.innerText;
    }
    let clock = setInterval(timer, 1000);
    function timer() {
        date = new Date();
        hh.innerText = date.getHours();
        mm.innerText = date.getMinutes();
        ss.innerText = date.getSeconds();
        if(hh.innerText < 10) {
        hh.innerText = '0' + hh.innerText;
        }
        if(mm.innerText < 10) {
            mm.innerText = '0' + mm.innerText;
        }
        if(ss.innerText < 10) {
            ss.innerText = '0' + ss.innerText;
        }
    }
</script>
<h2 id="事件循环"><a class="header-anchor" href="#事件循环"></a>事件循环</h2>
<p>JS主线程的执行栈优先执行同步任务，当代码中有异步任务时，会交给相应的异步进程处理，异步进程处理结束后推入异步任务队列。在主线程的执行栈完成同步任务的执行之后，会对任务队列进行轮询，从中取出一个任务，执行任务，随后再获取任务，执行任务。这个过程乘坐事件循环。</p>
<h2 id="location对象"><a class="header-anchor" href="#location对象"></a>location对象</h2>
<h3 id="常用属性"><a class="header-anchor" href="#常用属性"></a>常用属性</h3>
<ul>
<li><code>location.href</code> 获取/设置整个url</li>
<li><code>location.host</code> 返回主机域名</li>
<li><code>location.port</code> 返回端口号</li>
<li><code>location.pathname</code> 返回路径</li>
<li><code>location.search</code> 返回参数</li>
<li><code>location.hash</code> 返回片段 #后面内容<br>
<button id='baidu'>百度</button></li>
</ul>
<script>
    let btn_baidu = document.querySelector('#baidu');
    btn_baidu.addEventListener('click', ()=>{
        location.href = 'http://baidu.com/';
    })
</script>
<h3 id="常用方法"><a class="header-anchor" href="#常用方法"></a>常用方法</h3>
<ul>
<li><code>location.assign()</code> 重定向页面 记录浏览历史，可以实现后退</li>
<li><code>location.replace()</code> 替换当前页面 不记录浏览历史</li>
<li><code>location.reload()</code> 刷新页面</li>
</ul>
<h2 id="navigator对象"><a class="header-anchor" href="#navigator对象"></a>navigator对象</h2>
<p>navigator对象包含有关浏览器的信息，它有很多属性，我们最常用的是userAgent，该属性可以返回由客户机发送服务器的user-agent头部的值。从而实现不同客户端跳转不同页面的功能。</p>
<h2 id="history对象"><a class="header-anchor" href="#history对象"></a>history对象</h2>
<h3 id="常见方法"><a class="header-anchor" href="#常见方法"></a>常见方法</h3>
<ul>
<li><code>history.forward()</code> 前进</li>
<li><code>history.back()</code> 返回</li>
<li><code>history.go(n)</code> 前进 / 后退 n 步</li>
</ul>
<h1 id="PC端网页特效"><a class="header-anchor" href="#PC端网页特效"></a>PC端网页特效</h1>
<h2 id="Offset-元素偏移量"><a class="header-anchor" href="#Offset-元素偏移量"></a>Offset 元素偏移量</h2>
<ul>
<li><code>element.offsetParent</code> 返回作为该元素带有定位的父级元素如果父级都没有定位则返回body</li>
<li><code>element.offsetTop</code> 返回元素相对带有定位父元素上方的偏移</li>
<li><code>element.offsetLeft</code> 返回元素相对带有定位父元素左边框的偏移</li>
<li><code>element.offsetWidth</code> 返回自身包括padding、边框、内容区的宽度，返回数值不带单位</li>
<li><code>element.offsetHeight</code> 返回自身包括padding、边框、内容区的高度，返回数值不带单位</li>
</ul>
<h2 id="offset与style区别"><a class="header-anchor" href="#offset与style区别"></a>offset与style区别</h2>
<table>
<thead>
<tr>
<th>offset</th>
<th>style</th>
</tr>
</thead>
<tbody>
<tr>
<td>offset可以得到任意样式表中的样式值</td>
<td>style 只能得到行内样式表中的样式值</td>
</tr>
<tr>
<td>offset系列获得的数值是没有单位的</td>
<td>style.width获得的是带有单位的字符串</td>
</tr>
<tr>
<td>offsetWidth包含padding+border+width</td>
<td>style.width获得不包含padding和border的值</td>
</tr>
<tr>
<td>offsetWidth等属性是只读属性，只能获取不能就值</td>
<td>style.width是可读写属性，可以获取也可以赋值</td>
</tr>
<tr>
<td><strong>所以，我们想要获取元素大小位置，用offset更合适</strong></td>
<td><strong>所以，我们想要给元素更改值，则需要用style改变</strong></td>
</tr>
</tbody>
</table>
<p><strong>示例：获取鼠标在盒子内坐标</strong></p>
<div class="tabs" id="mouse_idx"><ul class="nav-tabs"><li class="tab active"><a href="#mouse_idx-1">HTML</a></li><li class="tab"><a href="#mouse_idx-2">CSS</a></li><li class="tab"><a href="#mouse_idx-3">Javascript</a></li></ul><div class="tab-content"><div class="tab-pane active" id="mouse_idx-1"><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&#x27;offset&#x27;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">&#x27;mouse_index&#x27;</span>&gt;</span>鼠标不在div盒子内<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br></pre></td></tr></table></figure></div><div class="tab-pane" id="mouse_idx-2"><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">#offset &#123;</span><br><span class="line">    width: 100px;</span><br><span class="line">    height: 100px;</span><br><span class="line">    background-color: skyblue;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><div class="tab-pane" id="mouse_idx-3"><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> offset = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;#offset&#x27;</span>);</span><br><span class="line"><span class="keyword">let</span> txt_hint = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;#mouse_index&#x27;</span>);</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">listener</span>(<span class="params">e</span>) &#123;</span><br><span class="line">    txt_hint.<span class="property">innerText</span> = <span class="string">&#x27;(&#x27;</span> + e.<span class="property">offsetX</span> + <span class="string">&#x27;,&#x27;</span> + e.<span class="property">offsetY</span> + <span class="string">&#x27;)&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line">offset.<span class="title function_">addEventListener</span>(<span class="string">&#x27;mouseover&#x27;</span>, <span class="keyword">function</span>(<span class="params">e</span>) &#123;</span><br><span class="line">    offset.<span class="title function_">addEventListener</span>(<span class="string">&#x27;mousemove&#x27;</span>, listener);</span><br><span class="line">&#125;);</span><br><span class="line">offset.<span class="title function_">addEventListener</span>(<span class="string">&#x27;mouseout&#x27;</span>, <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    offset.<span class="title function_">removeEventListener</span>(<span class="string">&#x27;mousemove&#x27;</span>, listener);</span><br><span class="line">    txt_hint.<span class="property">innerText</span> = <span class="string">&#x27;鼠标不在div盒子内&#x27;</span>;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></div></div></div>
<style>
    #offset {
        width: 100px;
        height: 100px;
        background-color: skyblue;
    }
</style>
<p><strong>效果：</strong></p>
<div id='offset'></div>
<span id='mouse_index'>鼠标不在div盒子内</span>
<script>
    let offset = document.querySelector('#offset');
    let txt_hint = document.querySelector('#mouse_index');
    function listener(e) {
        txt_hint.innerText = '(' + e.offsetX + ',' + e.offsetY + ')';
    }
    offset.addEventListener('mouseover', function(e) {
        offset.addEventListener('mousemove', listener);
    });
    offset.addEventListener('mouseout', function() {
        offset.removeEventListener('mousemove', listener);
        txt_hint.innerText = '鼠标不在div盒子内';
    });
</script>
<p><strong>示例：拖动模态框</strong></p>
<div class="tabs" id="modal_test"><ul class="nav-tabs"><li class="tab active"><a href="#modal_test-1">HTML</a></li><li class="tab"><a href="#modal_test-2">CSS</a></li><li class="tab"><a href="#modal_test-3">Javascript</a></li></ul><div class="tab-content"><div class="tab-pane active" id="modal_test-1"><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&#x27;open_modal&#x27;</span> <span class="attr">disabled</span>&gt;</span>打开模态框<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure></div><div class="tab-pane" id="modal_test-2"><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">:root &#123;</span><br><span class="line">    --X: 0px;</span><br><span class="line">    --Y: 0px;</span><br><span class="line">&#125;</span><br><span class="line">#overlay &#123;</span><br><span class="line">    position: absolute;</span><br><span class="line">    left: 0;</span><br><span class="line">    top: 0;</span><br><span class="line">    transition: background-color 1s;</span><br><span class="line">    z-index: -1;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">#modal &#123;</span><br><span class="line">    display: none;</span><br><span class="line">    position: fixed;</span><br><span class="line">    left: calc(50% + var(--X));</span><br><span class="line">    top: calc(50% + var(--Y));</span><br><span class="line">    width: 240px;</span><br><span class="line">    height: 160px;</span><br><span class="line">    transform: translate(-50%, -50%);</span><br><span class="line">    background-color: white;</span><br><span class="line">    border: 1px solid #ccc;</span><br><span class="line">    border-radius: 5px;</span><br><span class="line">    z-index: 1000;</span><br><span class="line">    user-select:none;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">#modal_hd &#123;</span><br><span class="line">    height: 30px;</span><br><span class="line">    width: 100%;</span><br><span class="line">    background-color: pink;</span><br><span class="line">    cursor: move;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">#close_modal &#123;</span><br><span class="line">    user-select:none;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><div class="tab-pane" id="modal_test-3"><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> open_button = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;open_modal&#x27;</span>);</span><br><span class="line"><span class="keyword">let</span> overlay = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&#x27;div&#x27;</span>);</span><br><span class="line"><span class="keyword">let</span> modal = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&#x27;div&#x27;</span>);</span><br><span class="line"><span class="keyword">let</span> mouseDown = <span class="literal">false</span>;</span><br><span class="line"><span class="keyword">let</span> previousX;</span><br><span class="line"><span class="keyword">let</span> previousY;</span><br><span class="line"><span class="keyword">let</span> currentX = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">let</span> currentY = <span class="number">0</span>;</span><br><span class="line">overlay.<span class="property">id</span> = <span class="string">&#x27;overlay&#x27;</span>;</span><br><span class="line">modal.<span class="property">id</span> = <span class="string">&#x27;modal&#x27;</span>;</span><br><span class="line">modal.<span class="property">innerHTML</span> = <span class="string">&#x27;&lt;div id=&quot;modal_hd&quot;&gt;&lt;button id=&quot;close_modal&quot;&gt;关闭模态框&lt;/button&gt;&lt;/div&gt;&lt;div id=&quot;modal_bd&quot;&gt;&lt;p&gt;这是一个模态框&lt;/p&gt;&lt;/div&gt;&#x27;</span>;</span><br><span class="line"><span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;load&#x27;</span>, overlay_display);</span><br><span class="line"><span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;resize&#x27;</span>, <span class="function">()=&gt;</span>&#123;</span><br><span class="line">    <span class="variable language_">document</span>.<span class="property">body</span>.<span class="title function_">removeChild</span>(overlay);</span><br><span class="line">    overlay.<span class="property">style</span>.<span class="property">height</span> = <span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="property">scrollHeight</span> + <span class="string">&#x27;px&#x27;</span>;</span><br><span class="line">    overlay.<span class="property">style</span>.<span class="property">width</span> = <span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="property">scrollWidth</span> + <span class="string">&#x27;px&#x27;</span>;</span><br><span class="line">    <span class="variable language_">document</span>.<span class="property">body</span>.<span class="title function_">appendChild</span>(overlay);</span><br><span class="line">&#125;);</span><br><span class="line">open_button.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    open_button.<span class="property">disabled</span> = <span class="literal">true</span>;</span><br><span class="line">    overlay.<span class="property">style</span>.<span class="property">zIndex</span> = <span class="string">&#x27;100&#x27;</span>;</span><br><span class="line">    overlay.<span class="property">style</span>.<span class="property">backgroundColor</span> = <span class="string">&#x27;rgba(0,0,0,0.5)&#x27;</span>;</span><br><span class="line">    overlay.<span class="title function_">appendChild</span>(modal);</span><br><span class="line">    <span class="keyword">let</span> close_button = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;close_modal&#x27;</span>);</span><br><span class="line">    <span class="keyword">let</span> modal_hd = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;modal_hd&#x27;</span>);</span><br><span class="line">    modal_hd.<span class="title function_">addEventListener</span>(<span class="string">&#x27;mousedown&#x27;</span>, <span class="function">(<span class="params">e</span>)=&gt;</span>&#123;</span><br><span class="line">        isMouseDown = <span class="literal">true</span>;</span><br><span class="line">        e.<span class="title function_">preventDefault</span>();</span><br><span class="line">        previousX = e.<span class="property">pageX</span>;</span><br><span class="line">        previousY = e.<span class="property">pageY</span>;</span><br><span class="line">        <span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;mousemove&#x27;</span>, modal_move);</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    <span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;mouseup&#x27;</span>, <span class="function">()=&gt;</span>&#123;</span><br><span class="line">        isMouseDown = <span class="literal">false</span>;</span><br><span class="line">        currentX = <span class="built_in">parseInt</span>(<span class="title function_">getComputedStyle</span>(<span class="variable language_">document</span>.<span class="property">documentElement</span>).<span class="title function_">getPropertyValue</span>(<span class="string">&#x27;--X&#x27;</span>).<span class="title function_">replace</span>(<span class="string">&#x27;px&#x27;</span>, <span class="string">&#x27;&#x27;</span>));</span><br><span class="line">        currentY = <span class="built_in">parseInt</span>(<span class="title function_">getComputedStyle</span>(<span class="variable language_">document</span>.<span class="property">documentElement</span>).<span class="title function_">getPropertyValue</span>(<span class="string">&#x27;--Y&#x27;</span>).<span class="title function_">replace</span>(<span class="string">&#x27;px&#x27;</span>, <span class="string">&#x27;&#x27;</span>));</span><br><span class="line">        <span class="variable language_">window</span>.<span class="title function_">removeEventListener</span>(<span class="string">&#x27;mousemove&#x27;</span>, modal_move);</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    close_button.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, close_modal);</span><br><span class="line">    modal.<span class="property">style</span>.<span class="property">display</span> = <span class="string">&#x27;block&#x27;</span>;</span><br><span class="line">&#125;)</span><br><span class="line">overlay.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, close_modal)</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">overlay_display</span>(<span class="params"></span>) &#123;</span><br><span class="line">    overlay.<span class="property">style</span>.<span class="property">height</span> = <span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="property">scrollHeight</span> + <span class="string">&#x27;px&#x27;</span>;</span><br><span class="line">    overlay.<span class="property">style</span>.<span class="property">width</span> = <span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="property">scrollWidth</span> + <span class="string">&#x27;px&#x27;</span>;</span><br><span class="line">    <span class="variable language_">document</span>.<span class="property">body</span>.<span class="title function_">appendChild</span>(overlay);</span><br><span class="line">    open_button.<span class="property">disabled</span> = <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">close_modal</span>(<span class="params">e</span>) &#123;</span><br><span class="line">    e.<span class="title function_">stopPropagation</span>();</span><br><span class="line">    <span class="keyword">if</span>(e.<span class="property">target</span>.<span class="property">id</span> === <span class="string">&#x27;overlay&#x27;</span> || e.<span class="property">target</span>.<span class="property">id</span> === <span class="string">&#x27;close_modal&#x27;</span>)&#123;</span><br><span class="line">        modal.<span class="property">style</span>.<span class="property">display</span> = <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">        overlay.<span class="property">style</span>.<span class="property">backgroundColor</span> = <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">        open_button.<span class="property">disabled</span> = <span class="literal">false</span>;</span><br><span class="line">        <span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="property">style</span>.<span class="title function_">removeProperty</span>(<span class="string">&#x27;--X&#x27;</span>);</span><br><span class="line">        <span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="property">style</span>.<span class="title function_">removeProperty</span>(<span class="string">&#x27;--Y&#x27;</span>);</span><br><span class="line">        overlay.<span class="title function_">removeChild</span>(modal);</span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">            overlay.<span class="property">style</span>.<span class="property">zIndex</span> = <span class="string">&#x27;&#x27;</span>;            </span><br><span class="line">        &#125;, <span class="number">1000</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">modal_move</span>(<span class="params">e</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (isMouseDown) &#123;</span><br><span class="line">    <span class="keyword">let</span> deltaX = e.<span class="property">pageX</span> - previousX</span><br><span class="line">    <span class="keyword">let</span> deltaY = e.<span class="property">pageY</span> - previousY</span><br><span class="line">    <span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="property">style</span>.<span class="title function_">setProperty</span>(<span class="string">&#x27;--X&#x27;</span>, deltaX + currentX + <span class="string">&#x27;px&#x27;</span>);</span><br><span class="line">    <span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="property">style</span>.<span class="title function_">setProperty</span>(<span class="string">&#x27;--Y&#x27;</span>, deltaY + currentY + <span class="string">&#x27;px&#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></div></div>
<p>效果：</p>
<style>
    :root {
        --X: 0px;
        --Y: 0px;
    }
    #overlay {
        position: absolute;
        left: 0;
        top: 0;
        transition: background-color 1s;
        z-index: -1;
    }

    #modal {
        display: none;
        position: fixed;
        left: calc(50% + var(--X));
        top: calc(50% + var(--Y));
        width: 240px;
        height: 160px;
        transform: translate(-50%, -50%);
        background-color: white;
        border: 1px solid #ccc;
        border-radius: 5px;
        z-index: 1000;
        user-select:none;
    }

    #modal_hd {
        height: 30px;
        width: 100%;
        background-color: pink;
        cursor: move;
    }

    #close_modal {
        user-select:none;
    }
</style>
<p><button id='open_modal' disabled>打开模态框</button></p>
<script>
    let open_button = document.getElementById('open_modal');
    let overlay = document.createElement('div');
    let modal = document.createElement('div');
    let mouseDown = false;
    let previousX;
    let previousY;
    let currentX = 0;
    let currentY = 0;
    overlay.id = 'overlay';
    modal.id = 'modal';
    modal.innerHTML = '<div id="modal_hd"><button id="close_modal">关闭模态框</button></div><div id="modal_bd"><p>这是一个模态框</p></div>';
    window.addEventListener('DOMContentLoaded', overlay_display);
    window.addEventListener('resize', ()=>{
        if (overlay) {
            document.body.removeChild(overlay);
        }
        overlay.style.height = document.documentElement.scrollHeight + 'px';
        overlay.style.width = document.documentElement.scrollWidth + 'px';
        document.body.appendChild(overlay);
    });
    open_button.addEventListener('click', function() {
        open_button.disabled = true;
        overlay.style.zIndex = '100';
        overlay.style.backgroundColor = 'rgba(0,0,0,0.5)';
        overlay.appendChild(modal);
        let close_button = document.getElementById('close_modal');
        let modal_hd = document.getElementById('modal_hd');
        modal_hd.addEventListener('mousedown', (e)=>{
            isMouseDown = true;
            e.preventDefault();
            previousX = e.pageX;
            previousY = e.pageY;
            window.addEventListener('mousemove', modal_move);
        })

        window.addEventListener('mouseup', ()=>{
            isMouseDown = false;
            currentX = parseInt(getComputedStyle(document.documentElement).getPropertyValue('--X').replace('px', ''));
            currentY = parseInt(getComputedStyle(document.documentElement).getPropertyValue('--Y').replace('px', ''));
            window.removeEventListener('mousemove', modal_move);
        })

        close_button.addEventListener('click', close_modal);
        modal.style.display = 'block';
    })
    overlay.addEventListener('click', close_modal)
    function overlay_display() {
        overlay.style.height = document.documentElement.scrollHeight + 'px';
        overlay.style.width = document.documentElement.scrollWidth + 'px';
        document.body.appendChild(overlay);
        open_button.disabled = false;
    }

    function close_modal(e) {
        e.stopPropagation();
        if(e.target.id === 'overlay' || e.target.id === 'close_modal'){
            modal.style.display = '';
            overlay.style.backgroundColor = '';
            open_button.disabled = false;
            document.documentElement.style.removeProperty('--X');
            document.documentElement.style.removeProperty('--Y');
            overlay.removeChild(modal);
            setTimeout(()=>{
                overlay.style.zIndex = '';            
            }, 1000);
        }
    }
    
    function modal_move(e) {
        if (isMouseDown) {
        let deltaX = e.pageX - previousX
        let deltaY = e.pageY - previousY
        document.documentElement.style.setProperty('--X', deltaX + currentX + 'px');
        document.documentElement.style.setProperty('--Y', deltaY + currentY + 'px');
        }
    }
</script>
<p><strong>示例：电商平台放大镜</strong><br>
<a href="zhmou.xyz/source/misc/pinyougou/detail.html">链接</a></p>
<h2 id="Client-元素可视区"><a class="header-anchor" href="#Client-元素可视区"></a>Client 元素可视区</h2>
<table>
<thead>
<tr>
<th>属性</th>
<th>作用</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>element.clientWidth</code></td>
<td>返回自身包括Padding、内容区的宽度，不包括边框，返回数值</td>
</tr>
<tr>
<td><code>element.clientHeight</code></td>
<td>返回自身包括Padding、内容区的高度，不包括边框，返回数值</td>
</tr>
<tr>
<td><code>element.clientTop</code></td>
<td>上边框大小</td>
</tr>
<tr>
<td><code>element.clientLeft</code></td>
<td>左边框大小</td>
</tr>
</tbody>
</table>
<h2 id="立即执行函数"><a class="header-anchor" href="#立即执行函数"></a>立即执行函数</h2>
<ul>
<li>定义：不需要调用，能够立即执行的函数</li>
<li>写法：
<ul>
<li><code>(function () &#123;&#125;) ()</code></li>
<li><code>(function()&#123;&#125;())</code></li>
</ul>
</li>
<li>特点：独立创建了一个作用域，避免变量命名冲突问题</li>
</ul>
<h2 id="Scroll-元素滚动"><a class="header-anchor" href="#Scroll-元素滚动"></a>Scroll 元素滚动</h2>
<img data-src='../../img/js-learning/scroll.png' />
<h1 id="移动端网页特效"><a class="header-anchor" href="#移动端网页特效"></a>移动端网页特效</h1>
<p>参见<a href="../Mobile-Dev/">移动端开发</a></p>
<h1 id="数据存储"><a class="header-anchor" href="#数据存储"></a>数据存储</h1>
<h2 id="sessionStorage"><a class="header-anchor" href="#sessionStorage"></a>sessionStorage</h2>
<ul>
<li>特点：
<ul>
<li>生命周期为关闭浏览器窗口</li>
<li>在同一个页面下数据可以共享</li>
<li>以键值对的形式存储使用</li>
</ul>
</li>
<li>方法：
<ul>
<li><code>sessionStorage.setItem(key, value)</code></li>
<li><code>sessionStorage.getItem(key)</code></li>
<li><code>sessionStorage.removeItem(key)</code></li>
<li><code>sessionStorage.clear()</code></li>
</ul>
</li>
</ul>
<h2 id="localStorage"><a class="header-anchor" href="#localStorage"></a>localStorage</h2>
<ul>
<li>特点：
<ul>
<li>永久，除非手动删除</li>
<li>多窗口共享</li>
</ul>
</li>
</ul>

    </div>

    
    
    

    <footer class="post-footer">
          

<div class="post-copyright">
<ul>
  <li class="post-copyright-author">
      <strong>本文作者： </strong>Zhmou
  </li>
  <li class="post-copyright-link">
      <strong>本文链接：</strong>
      <a href="https://www.zhmou.xyz/posts/js-learning/" title="JS杂项知识记录">https://www.zhmou.xyz/posts/js-learning/</a>
  </li>
  <li class="post-copyright-license">
      <strong>版权声明： </strong>本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by/4.0/deed.zh" rel="noopener" target="_blank"><i class="fab fa-fw fa-creative-commons"></i>BY</a> 许可协议。转载请注明出处！
  </li>
</ul>
</div>

          <div class="post-tags">
              <a href="/tags/%E7%BC%96%E7%A8%8B/" rel="tag"># 编程</a>
              <a href="/tags/Javascript/" rel="tag"># Javascript</a>
              <a href="/tags/%E8%AF%AD%E6%B3%95/" rel="tag"># 语法</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/posts/Leetcode-log/" rel="prev" title="力扣刷题小录">
                  <i class="fa fa-chevron-left"></i> 力扣刷题小录
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/posts/h5-css3-learning/" rel="next" title="HTML / CSS 杂项知识记录">
                  HTML / CSS 杂项知识记录 <i class="fa fa-chevron-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 2020 – 
  <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Zhmou</span>
</div>
<div class="wordcount">
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-line"></i>
    </span>
    <span title="站点总字数">107k</span>
  </span>
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    <span title="站点阅读时长">4:28</span>
  </span>
</div>
<div class="busuanzi-count">
    <span class="post-meta-item" id="busuanzi_container_site_uv">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="总访客量">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-item" id="busuanzi_container_site_pv">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="总访问量">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>

    </div>
  </footer>

  
  <div class="back-to-top" role="button" aria-label="返回顶部">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>

  <a href="https://github.com/zhmou" class="github-corner" title="在 GitHub 上关注我" aria-label="在 GitHub 上关注我" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script src="https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/lozad@1.16.0/dist/lozad.min.js" integrity="sha256-mOFREFhqmHeQbXpK2lp4nA3qooVgACfh88fpJftLBbc=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/next-boot.js"></script>

  <script src="https://cdn.jsdelivr.net/npm/hexo-generator-searchdb@1.4.1/dist/search.js" integrity="sha256-1kfA5uHPf65M5cphT2dvymhkuyHPQp5A53EGZOnOLmc=" crossorigin="anonymous"></script>
<script src="/js/third-party/search/local-search.js"></script>





  
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>




  

  <script class="next-config" data-name="enableMath" type="application/json">false</script><script class="next-config" data-name="mathjax" type="application/json">{"enable":true,"tags":"none","js":{"url":"https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js","integrity":"sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI="}}</script>
<script src="/js/third-party/math/mathjax.js"></script>


  <script src="https://cdn.jsdelivr.net/npm/quicklink@2.3.0/dist/quicklink.umd.js" integrity="sha256-yvJQOINiH9fWemHn0vCA5lsHWJaHs6/ZmO+1Ft04SvM=" crossorigin="anonymous"></script>
  <script class="next-config" data-name="quicklink" type="application/json">{"enable":true,"home":true,"archive":true,"delay":true,"timeout":3000,"priority":true,"url":"https://www.zhmou.xyz/posts/js-learning/"}</script>
  <script src="/js/third-party/quicklink.js"></script>

</body>
</html>
